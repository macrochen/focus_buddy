# Focus Buddy App 需求文档

## 1. 项目背景

### 1.1 目标用户
- 13岁的7年级学生（用户的儿子）

### 1.2 问题描述
- 学生在写作业时经常走神
- 中途去做其他事情
- 学习效率低下

### 1.3 项目目标
- 帮助学生合理规划时间
- 减少走神，提高专注力
- 培养良好的时间管理习惯

## 2. 功能需求

### 2.1 任务管理

#### 快速添加任务
- 支持手动输入
- 支持语音输入（通过Siri或内置语音识别）

#### 任务分类
- 支持不同类别分类
  - 学校作业
  - 家庭任务
  - 课外活动等

#### 任务详情
- 标题
- 描述
- 截止日期
- 预估完成时间
- 实际完成时间
- 任务状态（未开始、进行中、已完成）

### 2.2 专注与中断监控

#### 计时器功能
- 为每个任务提供专注计时
- 记录用户专注时间
- 支持背景音乐播放
  - 预置轻音乐选择
  - 播放/暂停控制
  - 音量调节

#### 中断管理
- 支持手动暂停计时器
- 记录中断次数和时长
- 中断理由选项
  - 喝水
  - 上厕所
  - 其他

#### 统计反馈
- 展示专注时间
- 显示中断次数和时长
- 中断理由频率分析（可选）

### 2.3 时间预估与对比

#### 时间管理
- 任务开始前输入预计完成时间
- 自动记录实际完成时间
- 生成预估时间与实际时间的对比图表

#### AI辅助预估（可选）
- OCR扫描作业内容
- 结合历史数据预测完成时间

### 2.4 奖励与激励系统

#### 积分系统
- 完成任务获得积分
- 按时完成任务额外奖励
- 减少中断次数奖励

#### 奖励管理
- 家长可设置奖励项目
- 自定义兑换规则
- 记录兑换历史

#### 成就系统
- 设置徽章或成就
- 例如：连续5天按时完成任务

### 2.5 语音识别功能

#### 语音操作
- 语音添加任务
- 语音控制计时器
  - 启动
  - 暂停
  - 停止

### 2.6 家长监督

#### 数据查看
- 任务完成情况
- 专注时间统计
- 中断记录查看
- 积分和奖励兑换历史

#### 管理功能
- 奖励项目管理
- 积分规则设置
- 密码或生物识别保护
- 音乐管理
  - 导入自定义音乐
  - 音乐列表管理
  - 删除已导入音乐

### 2.7 游戏化元素（可选）

#### 虚拟宠物
- 任务完成后成长
- 获得装饰物品

#### 个性化
- 自定义app主题
- 背景颜色设置

## 3. 技术要求

### 3.1 开发环境
- 平台：iOS
- 语言：Swift
- 框架：SwiftUI
- 开发工具：Xcode

### 3.2 数据存储
- 初期：plist文件
- 后期：Core Data

### 3.3 功能集成
- 语音识别：Speech框架或SiriKit
- OCR功能：Vision框架（可选）
- 通知：UserNotifications框架

## 4. 用户体验设计

### 4.1 界面设计原则
- 色彩鲜艳
- 布局简洁
- 动画反馈

### 4.2 主要界面

#### 任务列表
- 按截止日期排序
- 任务详情页面

#### 计时器界面
- 进度条显示
- 暂停/继续按钮
- 完成动画效果

#### 统计界面
- 柱状图
- 饼图
- 数据对比展示

#### 奖励界面
- 可用奖励列表
- 积分余额显示
- 兑换功能

#### 家长界面
- 独立访问入口
- 数据监控面板
- 设置选项

## 5. 开发建议

### 5.1 学习资源
- Apple Developer Documentation
- Hacking with Swift

### 5.2 开发步骤
1. Swift和SwiftUI基础学习
2. 核心功能实现
   - 任务列表
   - 计时器
3. 功能扩展
   - 语音识别
   - 通知系统
4. 系统完善
   - 奖励系统
   - 家长监控
5. 优化改进
   - 界面设计
   - 用户体验

### 5.3 测试计划
- Xcode模拟器测试
- 真机测试
- 用户反馈收集
- 迭代优化

## 6. 隐私与安全

### 6.1 数据安全
- 本地数据存储
- 不上传服务器

### 6.2 访问控制
- 家长功能密码保护
- 生物识别支持

## 7. 未来扩展

### 7.1 功能扩展
- iCloud数据同步
- AI预估优化
- 社交功能
  - 同学间进度共享
  - 互动功能

### 7.2 性能优化
- 数据处理效率
- 用户界面响应
- 电池使用优化